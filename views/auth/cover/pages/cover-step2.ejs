<!DOCTYPE html>
<html class="js" lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width" name="viewport">
  <title>Step 2: Diagnosis | MyService</title>
  <link href="docs/css/main.css" rel="stylesheet">
</head>
<body class="uikit-body uikit-grid uikit-refactor">
  <noscript><p role="alert">This website needs JavaScript to work properly.</p></noscript>
  <nav class="uikit-skip-link"><a class="uikit-skip-link__link" href="#main-content">Skip to main content</a></nav>
  <% include ../../../global/partials/header-version.ejs %>
  <% include ../../header-authenticated.ejs %>
  <% include ../partials/help-button.ejs %>
  <main>

    <div class="container" id="main-content">
    	<% include ../partials/progress-bar.ejs %>
		<h1>Add Cover - diagnosis</h1>
		<p>All fields are required unless marked (optional).</p>

		<fieldset>
  		<legend>What have you been medically diagnosed with?</legend>

        <div class="form-group">
          <label class="uikit-text-input__label" for="type-diagnosis">Enter the term provided by your GP or Specialist used to describe the condition. <br />
			  <span class="hint">Example: 'Acute meniscal tear of the knee'.</span></label>
          <input class="uikit-text-input" name="type-diagnosis" id="type-diagnosis" type="text" value="">
        </div>

		<br><hr /><br>

		<legend>Approximately when did it happen, or when did it start happening?</legend>
		<div class="form-group">
		<label class="uikit-text-input__label" for="dd"><span class="hint">(DD / MM / YYYY)</span></label>
		<input class="uikit-text-input dd" type="text" name="dd" id="dd" maxlength="2" required aria-required="true" aria-label="2 digit day"> /
        <input class="uikit-text-input mm" type="text" name="mm" id="mm" maxlength="2" required aria-required="true" aria-label="2 digit month"> /
        <input class="uikit-text-input yyyy" type="text" name="yyyy" id="yyyy" maxlength="4" required aria-required="true" aria-label="4 digit year">
		</div>

		<br><hr /><br>

		<div class="info-box uploads">
			<legend>Upload your GP or Specialist's medical report (optional)</legend>
			<p>Providing supporting documents is optional but may help us assess your request for cover. Supporting documents may include:</p>
				<ul>
					<li>Images such as x-rays and MRIs</li>
					<li>Imaging reports</li>
					<li>Test results</li>
					<li>Other medical reports</li>
					<li>Files that can be uploaded include .pdf, .jpg, .png and must be smaller than 10MB in size.</li>
				</ul>
			<p><button class="uikit-btn uikit-btn--tertiary btnUpload">Upload a document</button></p>

			<table class="document-uploads">
				<tr>
					<th>Document title</th>
					<th class="centred">Actions</th>
				</tr>
				<tr>
					<td>GP-Report-20170601.doc</td>
					<td class="centred"><a href="#open-removefile-modal" class="uikit-btn uikit-btn--tertiary small btnDelete" title="Remove this document from your request for cover">Remove</a></td>
				</tr>
			</table>
		</div>

		</fieldset>

		<div class="pagination">
        	<button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '/cover-step1'" title="Go to the previous Add Cover page">Previous</button>&nbsp; <a href="#open-modal" class="btnLink">Cancel</a>
        	<button class="uikit-btn floated btnNext" onclick="window.location.href = '/cover-step3'" title="Go to the next Add Cover page">Next</button>
      	</div>

        <% include ../partials/removefile-modal.ejs %>
        <% include ../partials/cancel-modal.ejs %>

    </div>
  </main>
  <% include ../../../global/partials/footer.ejs %>
  <% include ../partials/panel-help.ejs %>

  <script src="/docs/js/jquery-effects.js"></script>
  <script src="/docs/js/main.js"></script>
  <script>
    moveProgressBar();
    // on browser resize...
    $(window).resize(function() {
        moveProgressBar();
    });

    // SIGNATURE PROGRESS
    function moveProgressBar() {
      console.log("moveProgressBar");
        var getPercent = ($('.progress-wrap').data('progress-percent') / 100);
        var getProgressWrapWidth = $('.progress-wrap').width();
        var progressTotal = getPercent * getProgressWrapWidth;
        var animationLength = 2500;

        // on page load, animate percentage bar to data percentage length
        // .stop() used to prevent animation queueing
        $('.progress-bar').stop().animate({
            left: progressTotal
        }, animationLength);
    }
  </script>
</body>
</html>
