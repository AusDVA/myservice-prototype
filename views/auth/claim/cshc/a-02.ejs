<%- include(templates+"header", {
  claim: "Commonwealth Seniors Health Card",
  heading: "Relationship status",
  progress: {
    activeItem: 2,
      points: [
      {
        text: "Claim details",
        link: "/auth/claim/cshc/a-01"
      },
      {
          text: "Relationship status",
          link: "/auth/claim/cshc/a-02"
        },
        {
          text: "Dependent children",
          link: "/auth/claim/cshc/a-03"
        },
        {
          text: "Residency",
          link: "/auth/claim/cshc/a-04"
        },
        {
          text: "Claim representative",
          link: "/auth/claim/cshc/a-05"
        },
        {
          text: "Payment details",
          link: "/auth/claim/cshc/a-06"
        },
      ]
    }
}) %>

<div id="non-veteran" hidden>

<h3>Tell us about the veteran</h3>
To be eligible for a Commonwealth Seniors Health Card we need to establish your relationship to a veteran with qualifying service. 
<hr>

<%- include(forms+"prepop/ranktitlelist-dropdown", {
  label: "Title"
}) %>

<%- include(forms+"text", {
  label: "Given name",
  hint: "(first name)"
}) %>

<%- include(forms+"text", {
  label: "Surname",
  hint: "(last name)"
}) %>

<%- include(forms+"yes_no", {
  label: "Has this person ever been known by any other names?",
  hint: "(e.g. name at birth, maiden name, previous married name)",
  customClass: "previous-names-q"
}) %>

<%- include(forms+"previous-names", {
  modifiers: ["hidden"],
  customClass: "previous-names"
}) %>


<%- include(forms+"date", {
  label: "Date of birth"
}) %>

<%- include(forms+"prepop/gender") %>

<%- include(forms+"text", {
  label: "File number",
  hint: "(optional)"
}) %>

<%- include(forms+"text", {
  label: "Service number",
  hint: "(optional)"
}) %>


<%- include(forms+"text", {
  label: "PMKeyS number",
  hint: "(optional)"
}) %>

</div>

<p id="save-next" hidden>Choose <b>save and next</b> to continue</p>

<%- include(forms+"pagination", {
    pagination: [
      {
        link: "/auth/claim/cshc/a-01",
        text: "Previous"
      },
      {
        link: "#claim-cancel-modal",
        text: "Cancel claim"
      },
      {
        link: "/auth/claim",
        text: "Save and exit",
        modifiers: ["floated"]
      },
      {
        link: "/auth/claim/cshc/a-03",
        text: "Save and next",
        modifiers: ["floated", "primary"]
      }
    ]
  }) %>

<%- include("state-switcher") %>
<%- include(forms+"modals/claim-cancel") %>

<script>
  // $("#relationship-status-container").on("change", "input", function () {
  //   $(".rel--married").hide();
  //   $(".rel--de-facto").hide();
  //   $(".rel--separated").hide();

  //   switch ($("#relationship-status-container :checked").val()) {
  //     case "married":
  //       $(".rel--married").show();
  //       sessionStorage.setItem('cshc-relationship-status', "Partnered");
  //       break;
  //     case "defacto":
  //       $(".rel--de-facto").show();
  //       sessionStorage.setItem('cshc-relationship-status', "Partnered");
  //       break;
  //       break;
  //     case "widowed":
  //       $("#save-next").show();
  //       sessionStorage.setItem('cshc-relationship-status', "Single");
  //       break;
  //     case "divorced":
  //       $("#save-next").show();
  //       sessionStorage.setItem('cshc-relationship-status', "Single");
  //       break;
  //     case "separated":
  //       $("#save-next").show();
  //       sessionStorage.setItem('cshc-relationship-status', "Single");
  //       break;
  //   }

  // })

 
  updateContent();
  // page state related logic
  function updateContent() {
    hideAll();
    var myUser = sessionStorage.getItem('CSHC-flow');
    switch ( myUser ) {
      case "Veteran with QS":
        console.log('Veteran with QS');
        break;
      case "Veteran without QS":
        console.log('Veteran without QS');
        break;
      case "Non Veteran":
        $("#non-veteran").show();
        console.log('Non Veteran');
        break;
      case "War Widow":
      console.log('War Widow');
        break;
      case "Veteran with QS":
        break;
      default:
        break;
    }
    // if (this.value === "veteranwithoutqs") {
    //   console.log('veteran without qs is working');
    // } else {
    //   console.log('veteran with qs not working');
    // }
  };

  function hideAll(){
    $("#non-veteran").hide();

  }

</script>

<%- include(templates+"footer") %>