<!DOCTYPE html>
<html class="js" lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width" name="viewport">
  <title>Student Claim</title>
  <link href="docs/css/main.css" rel="stylesheet">
</head>

<body class="uikit-body uikit-grid uikit-refactor">
  <noscript>
    <p role="alert">This website needs JavaScript to work properly.</p>
  </noscript>
  <nav class="uikit-skip-link">
    <a class="uikit-skip-link__link" href="#main-content">Skip to main content</a>
  </nav>
  <% include ../../../global/partials/header-topbar.ejs %>
    <% include ../../../global/partials/header-claims.ejs %>
      <% include ../partials/help-button.ejs %>
        <main>
          <div class="container" id="main-content">
            <div id="progressbar">
              <div id="percentage"></div>
            </div>
            <h1>Student Claims (Step 1: Student details)</h1>
            <div id="optional-fields-message">All fields are required unless marked (optional).</div>


            <fieldset class="hide-fields">
              <!-- 1 -->
              <div class="form-group pt-flow--veteran pt-flow--student pt-flow--claimant">
                <label class="uikit-text-input__label" for="title">Title</label>
                <select class="uikit-text-input input-half" name="title" id="title" type="text" value="">
                  <option selected>-- Select title --</option>
                  <option>Miss</option>
                  <option>Mr</option>
                  <option>Mrs</option>
                  <option>Ms</option>
                </select>
              </div>

              <!-- 2 -->
              <div class="form-group pt-flow--veteran pt-flow--student pt-flow--claimant">
                <label class="uikit-text-input__label" for="Input field">Student First Name</label>
                <input class="uikit-text-input input-half" name="Input field" id="Input field" type="text" value="" required aria-required="true">
              </div>

              <!-- 3 -->
              <div class="form-group pt-flow--veteran pt-flow--claimant">
                <label class="uikit-text-input__label" for="Input field">Student Last Name</label>
                <input class="uikit-text-input input-half" name="Input field" id="Input field" type="text" value="" required aria-required="true">
              </div>

              <!-- 4 -->
              <div class="form-group pt-flow--veteran pt-flow--student pt-flow--claimant pt-student-dob">
                <label class="uikit-text-input__label" for="date">Student's Date of birth
                  <span class="hint">(DD / MM / YYYY)</span>
                </label>
                <input class="uikit-text-input dd" type="text" name="dd-date" id="dd-date" maxlength="2" required aria-required="true" aria-label="2 digit day"> /
                <input class="uikit-text-input mm" type="text" name="mm-date" id="mm-date" maxlength="2" required aria-required="true" aria-label="2 digit month"> /
                <input class="uikit-text-input yyyy" type="text" name="yyyy-date" id="yyyy-date" maxlength="4" required aria-required="true"
                  aria-label="4 digit year">
              </div>

              <!-- 5 -->
              <div class="form-group pt-flow--veteran pt-flow--claimant">
                <label class="uikit-text-input__label" for="relationshipToStudent">Your relationship to the student</label>
                <select class="uikit-text-input input-half" name="relationshipToStudent" id="relationshipToStudent" type="text" value="">
                  <option selected>-- Select relationship --</option>
                  <option>Parent</option>
                  <option>Step-parent</option>
                  <option>Foster Parent</option>
                  <option>Adopted Parent</option>
                  <option>Grandparent</option>
                  <option>Guardian</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <!-- 5 a) -->
              <div class="form-group" id="relationshipToStudentOther">
                <label class="uikit-text-input__label" for="relationshipToStudentOtherText">Please provide a brief statement explaining how the student came into your care. If relevant, please provide
                  a copy of any standing orders from the Family Court etc. </label>
                <textarea id="relationshipToStudentOtherText" name="relationshipToStudentOtherText" rows="4"></textarea>
              </div>

              <!-- 6 -->
              <div class="form-group pt-flow--veteran pt-flow--claimant pt-student-age--mature">
                <legend class="legend-label">Will the student be engaged in full time employment whilst studying?</legend>
                <div class="radio-toggle">
                  <label class="on label-left" for="engagedInFullTimeEmployment-yes">
                    <input id="engagedInFullTimeEmployment-yes" type="radio" name="engagedInFullTimeEmployment">
                    <span>Yes</span>
                  </label>
                  <label class="off label-right" for="engagedInFullTimeEmployment-no">
                    <input id="engagedInFullTimeEmployment-no" type="radio" name="engagedInFullTimeEmployment">
                    <span>No</span>
                  </label>
                </div>
              </div>


              <!-- 7 -->
              <div class="form-group pt-flow--student pt-student-age--mature">
                <legend class="legend-label">Are you in a partnered relationship?</legend>
                <div class="radio-toggle">
                  <label class="on label-left" for="studentPartneredRelationship-yes">
                    <input id="studentPartneredRelationship-yes" type="radio" name="studentPartneredRelationship">
                    <span>Yes</span>
                  </label>
                  <label class="off label-right" for="studentPartneredRelationship-no">
                    <input id="studentPartneredRelationship-no" type="radio" name="studentPartneredRelationship">
                    <span>No</span>
                  </label>
                </div>
              </div>

              <!-- 8 -->
              <div class="form-group pt-flow--student">
                <legend class="legend-label">Will you be living at the same address with your partner whilst studying?</legend>
                <div class="radio-toggle">
                  <label class="on label-left" for="studentLivingWithPartner-yes">
                    <input id="studentLivingWithPartner-yes" type="radio" name="studentLivingWithPartner" value="yes">
                    <span>Yes</span>
                  </label>
                  <label class="off label-right" for="studentLivingWithPartner-no">
                    <input id="studentLivingWithPartner-no" type="radio" name="studentLivingWithPartner" value="no">
                    <span>No</span>
                  </label>
                </div>
              </div>

              <!-- 8 a) -->
              <div class="form-group pt-noLongerEligible">
                <p>You are no longer eligible</p>
              </div>

              <div class="form-group pt-flow--claimant">
                <label class="uikit-text-input__label" for="veteranRelationshipToStudient">What is the Veteran/Member's relationship to the student
                  <br />
                  <select class="uikit-text-input input-half" id="veteranRelationshipToStudient" name="veteranRelationshipToStudient">
                    <option>-- Select relationship --</option>

                    <option>Parent </option>
                    <option>Step-parent</option>
                    <option>Foster Parent</option>
                    <option>Adopted Parent</option>
                    <option>Grandparent Guardian</option>
                    <option value="other">Other</option>
                  </select>
              </div>

              <div class="form-group" id="veteranRelationshipToStudientOther">
                <label class="uikit-text-input__label" for="veteranRelationshipToStudientOtherText">Please provide a brief statement explaining how the student came into their care. If relevant, please provide
                  a copy of any standing orders from the Family Court etc. </label>
                <textarea id="veteranRelationshipToStudientOtherText" name="veteranRelationshipToStudientOtherText" rows="4"></textarea>
              </div>



            </fieldset>




            <div class="pagination">
              <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '/student-assistance-landing'">Previous</button>
              <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '#open-modal'">Cancel claim</button>
              <div class="floated">
                <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '/index-claims'">Save and exit</button>&nbsp;
                <button class="uikit-btn btnNext" onclick="window.location.href = '/studentclaim2'">Save and next</button>
              </div>
            </div>
            <% include ../partials/cancel-modal.ejs %>
          </div>

        </main>

        <% include ../../../global/partials/footer.ejs %>
          <% include ../partials/panel-help.ejs %>
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
            <script>

              // Progress percentage
              document.getElementById("percentage").style.width = "20%";

              // Flows 
              if ("veteranFlow" in sessionStorage) {
                $(".pt-flow--veteran").show();
              }

              if ("studentFlow" in sessionStorage) {
                $(".pt-flow--student").show();
              }

              if ("claimantFlow" in sessionStorage) {
                $(".pt-flow--claimant").show();
              }

              // Calculate student age
              $(".pt-student-dob > :input").focusout(function () {
                var dobDay = $("#dd-date").val();
                var dobMonth = $("#mm-date").val();
                var dobYear = $("#yyyy-date").val();

                if (dobDay && dobMonth && dobYear) {
                  var dob = dobYear + '-' + dobMonth + '-' + dobDay;
                  dob = new Date(dob);
                  var today = new Date();
                  var age = Math.floor((today - dob) / (365.25 * 24 * 60 * 60 * 1000));
                  console.log(age + ' years old');
                  sessionStorage.removeItem('studentAge');
                  sessionStorage.setItem('studentAge', age);

                  // TODO: make this a seporate funciton 
                  if (sessionStorage.getItem('studentAge') > 15) {
                    $(".pt-student-age--mature").show();
                  } else {
                    $(".pt-student-age--mature").hide();
                  }
                }
              });

              $(".pt-student-age--mature").hide();
              $(".pt-noLongerEligible").hide();


              $('input[name=studentLivingWithPartner]').change(function () {
                console.log('got there');
                if ($('input[name=studentLivingWithPartner]:checked').val() === 'yes') {
                  $(".pt-noLongerEligible").show();
                  $(".pagination *").hide();
                } else {
                  $(".pt-noLongerEligible").hide();
                  $(".pagination *").show();
                }
              });


              $("#relationshipToStudent").change(function () {
                var selected_option = $('#relationshipToStudent').val();
                if (selected_option === 'other') {
                  $('#relationshipToStudentOther').show();
                } else {
                  $('#relationshipToStudentOther').hide();
                }
              });

              $("#veteranRelationshipToStudient").change(function () {
                var selected_option = $('#veteranRelationshipToStudient').val();
                if (selected_option === 'other') {
                  $('#veteranRelationshipToStudientOther').show();
                } else {
                  $('#veteranRelationshipToStudientOther').hide();
                }
              });






            </script>

</body>

</html>