<!DOCTYPE html>
<html class="js" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width" name="viewport" />
  <title>Qualifying service - Incurred danger | MyService</title>
  <link href="docs/css/main.css" rel="stylesheet" />
  <link rel="stylesheet" href="/src/font/fontawesome/css/all.css" />
  <style>
  </style>
</head>

<body class="uikit-body uikit-grid uikit-refactor">
  <noscript>
    <p role="alert">This website needs JavaScript to work properly.</p>
  </noscript>
  <nav class="uikit-skip-link">
    <a class="uikit-skip-link__link" href="#main-content">Skip to main content</a>
  </nav>
  <% include ../../../global/partials/header-topbar-new.ejs %>
  <main>
    <div id="main-content" class="section-feature border-bottom--mild margin-above--none margin-below--none padding-below">
      <h1 class="margin-above--none ss-align--center">
        <span class="heading">Incurred Danger </span>
      </h1>
    </div>
    <div class="container" style="background:transparent;">
      <div class="row">
        <div class="col-md-12">
          <div class="col-md-8 col-md-offset-2">
            <div class="margin-above--extra margin-below--extra">
              <!-- Page content -->
              <div class="margin-above--extra margin-below--extra">
                <p><strong>Add any incidents where you directly expereinced danger from hostile forces</strong></p>

                <!-- summary cards -->
                <div class="review__content--item boxed row" id="summary-1">
                  <div class="review__content--label col-sm-10">
                    <p class="margin-below--none">Date: 05/08/1940</p>
                    <p class="margin-below--none">Country: Vietnam</p>

                  </div>
                  <div class="col-sm-2">
                    <button class="uikit-btn uikit-btn--tertiary">&nbsp;Edit &nbsp;</button><br /><button
                      class="uikit-btn uikit-btn--tertiary small margin-above--mid">Remove</button>
                  </div>
                </div>
                <div class="review__content--item boxed row margin-above--mid" id="summary-2">
                  <div class="review__content--label col-sm-10">
                    <p class="margin-below--none">Date: 05/08/1940</p>
                    <p class="margin-below--none">Country: Vietnam</p>
                  </div>
                  <div class="col-sm-2">
                    <button class="uikit-btn uikit-btn--tertiary">
                      &nbsp;Edit &nbsp;</button><br /><button class="uikit-btn uikit-btn--tertiary small margin-above--mid">Remove
                    </button>
                  </div>
                </div>
                <div class="row" id="add-another">
                  <div class="col-sm-12 margin-above ss-align--center">
                    <button class="uikit-btn uikit-btn--tertiary" id="addAnother">Add another incident</button>
                  </div>
                </div>
                <button class="uikit-btn uikit-btn--tertiary" id="add-child">Add incident</button>
                <!-- open card -->
                <div class="form-group margin-above">
                  <div class="boxed" id="sp-dependant-details">

                    <p>Describe the specific incident where you directly experienced danger from hostile forces from the enermy.</p>

                    <div class="form-group margin-above--large">
                      <label class="uikit-text-input__label" for="date">Date from
                        <span class="hint">( mm / yyyy)</span>
                      </label>
                      <input class="uikit-text-input mm" type="text" name="mm-date" id="mm-date" maxlength="2" required aria-required="true" aria-label="2 digit month" />
                      /
                      <input class="uikit-text-input yyyy" type="text" name="yyyy-date" id="yyyy-date" maxlength="4" required aria-required="true" aria-label="4 digit year" />
                    </div>
                    <div class="form-group margin-above--large">
                      <label class="uikit-text-input__label" for="date">Date to
                        <span class="hint">( mm / yyyy)</span>
                      </label>
                      <input class="uikit-text-input mm" type="text" name="mm-date" id="mm-date" maxlength="2" required aria-required="true" aria-label="2 digit month" />
                      /
                      <input class="uikit-text-input yyyy" type="text" name="yyyy-date" id="yyyy-date" maxlength="4" required aria-required="true" aria-label="4 digit year" />
                    </div>

                    <div class="form-group margin-above--large">
                      <label class="uikit-text-input__label" for="Input field">Place</label>
                      <input class="uikit-text-input input-half" name="service_number" id="service_number" type="text" />
                    </div>

                    <div class="form-group margin-above--large">
                      <label class="uikit-text-input__label" for="textArea">Please tell us about the incident <br>
                        <span class="hint">The nature of the enermy activity, the nature of your role at the
                          time </span>
                      </label>
                      <textarea id="textArea" name="textArea" rows="3"></textarea>
                    </div>

                    <hr />
                    <div class="form-group margin-above--none">
                      <button id="service-period-add" class="uikit-btn">
                        &nbsp;&nbsp;&nbsp; Add &nbsp;&nbsp;&nbsp;
                      </button>
                      &nbsp;<button id="service-period-cancel" class="uikit-btn uikit-btn--tertiary">
                        &nbsp;&nbsp;&nbsp; Cancel &nbsp;&nbsp;&nbsp;
                      </button>
                    </div>

                    <div id="buttonset1" class="form-group margin-above--none">
                      <button class="uikit-btn" id="saveDetails1">&nbsp;&nbsp;&nbsp; Add &nbsp;&nbsp;&nbsp;</button>&nbsp;<button class="uikit-btn uikit-btn--tertiary"
                        id="cancelDetails1">&nbsp;&nbsp;&nbsp; Cancel &nbsp;&nbsp;&nbsp;</button>
                    </div>
                    <!-- <div id="buttonset1" class="form-group margin-above--extra">
                        <button class="uikit-btn" id="saveDetails1">
                          &nbsp;&nbsp;&nbsp; Done &nbsp;&nbsp;&nbsp;
                        </button>
                      </div> -->
                  </div>
                  <!-- <div id="no-dob">
                      <div class="uikit-page-alerts" role="alert">
                          <p>Message body informaion. </p>
                      </div>
                  </div> -->
                </div>
                <!-- end of dependent child details -->
              </div>
              <!-- end of page content -->
            </div>



            <!-- bottom page navigation -->
            <div class="pagination" style="position: relative;">
              <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '/service-history-start'"> Previous </button>
              <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '#open-modal'">
                Cancel claim </button>
              <div class="floated">
                <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '/claims'">
                  Save and exit </button>
                <button class="uikit-btn btnNext" onclick="window.location.href = '/service-history-review'">
                  Save and next </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <% include ../partials/cancel-modal.ejs %>
  <% include
    ../../../global/partials/footer.ejs %>
</body>

<script>
  $(Document).ready(function () {
    hideAll();

    //cancel
    $('#cancelDetails1').click(function () {
      $('html, body').animate({
        scrollTop: $("#main-content").offset().top
      }, 1000);
      resetDates();
      hideAll();
      $("#add-child").show();
      $("#dependent-explainer").show();
    });

    $('#dependent-cancel').click(function () {
      $('html, body').animate({
        scrollTop: $("#main-content").offset().top
      }, 1000);
      hideAll();
      resetDates();
      $("#add-child").show();
      $("#dependent-explainer").show();
    });

    // initiate add

    $("#add-child").click(function () {
      hideAll();
      resetDates();
      $("#sp-dependant-details").show("fast");
      $("#saveDetails1").hide();
      $("#cancelDetails1").hide();
      $("#dependent-explainer").hide();
      $("#add-child").hide();
    });

    $("#addAnother").click(function () {
      hideAll();
      resetDates();
      $("#sp-dependant-details").show("fast");
      $("#saveDetails1").hide();
      $("#cancelDetails1").hide();
      $("#dependent-add-cancel").show("fast");
    });

    // questions

    $(".pt-dependent-dob > :input").keyup(function () {
      var dobDay = $("#dd-date").val();
      var dobMonth = $("#mm-date").val();
      var dobYear = $("#yyyy-date").val();

      // if a valid date
      if (dobDay && dobMonth && dobYear.length === 4) {
        if (dobDay.length === 1) {
          dobDay = "0" + dobDay;
        }
        if (dobMonth.length === 1) {
          dobMonth = "0" + dobMonth;
        }
        var dob = dobYear + "-" + dobMonth + "-" + dobDay;

        dob = new Date(dob);
        var today = new Date();
        var age = Math.floor(
          (today - dob) / (365.25 * 24 * 60 * 60 * 1000)
        );

        localStorage.removeItem("studentAge");
        localStorage.setItem("studentAge", age);
        console.debug("student age: ", age);

        if (localStorage.getItem("studentAge") < 16) {
          $("#over-16").hide();
          $("#under-16").show();
          $("#over-22").hide();
          $("#default").show();
          $("#under-4").hide();
          $("#saveDetails1").show();
          $("#cancelDetails1").show();
          $("#child-birth-cert").show("fast");
          $("#dependent-add-cancel").hide();
        }
        if (
          localStorage.getItem("studentAge") > 16 &&
          localStorage.getItem("studentAge") < 22
        ) {
          $("#over-16").show();
          $("#under-16").hide();
          $("#over-22").hide();
          $("#default").show();
          $("#under-4").hide();
          $("#saveDetails1").show();
          $("#cancelDetails1").show();
          $("#child-birth-cert").show("fast");
          $("#dependent-add-cancel").hide();
        } else if (localStorage.getItem("studentAge") > 22) {
          $("#over-16").hide();
          $("#under-16").hide();
          $("#over-22").show();
          $("#default").hide();
          $("#under-4").hide();
          $("#dependent-add-cancel").hide();
        }
      }
    });

    $("#fulltime-education-no").click(function () {
      $("#default").hide();
    });

    $("#dependent-gov-payments-yes").click(function () {
      $("#gov-payments").show("fast");
    });

    $("#dependent-gov-payments-no").click(function () {
      $("#gov-payments").hide("fast");
    });

    $("#income-yes").click(function () {
      $("#child-school").show("fast");
      $("#default").hide();
    });

    $("#income-no").click(function () {
      $("#child-school").hide("fast");
      $("#default").show("fast");
    });

    $("#fulltime-education-no").click(function () {
      $("#full-time-ed-notification").show("fast");
      $("#full-time-ed-yes").hide("fast");
    });

    $("#fulltime-education-yes").click(function () {
      $("#full-time-ed-notification").hide("fast");
      $("#full-time-ed-yes").show("fast");
    });

    // Done

    var childrenAdded = 0;

    $("#saveDetails1").click(function () {
      $("body,html").animate(
        {
          scrollTop: 500 // set to half way down the screen
        },
        700
      );
      // hack to reset focus to top of page
      document.body.setAttribute("tabindex", "0");
      document.body.focus();
      document.body.removeAttribute("tabindex");
      $("#add-child").hide("fast");
      $("#add-another").show("fast");
      $("#sp-dependant-details").hide("fast");
      if (childrenAdded == 0) {
        $("#summary-1").show("fast");
      }
      if (childrenAdded == 1) {
        $("#summary-1").show("fast");
        $("#summary-2").show("fast");
      }
      childrenAdded++;
    });

    // $('#checkAgedep').click(function() {
    //     $("#saveDetails1").show();
    // });


    function hideAll() {
      $("#add-another").hide();
      $("#summary-1").hide();
      $("#summary-2").hide();
      $("#sp-dependant-details").hide();
      $("#sp-dependant-details-2nd").hide();
      $("#child-birth-cert").hide();
      $("#child-school").hide();
      $("#over-16").hide();
      $("#under-4").hide();
      $("#under-16").hide();
      $("#over-22").hide();
      $("#default").hide();
      $("#full-time-ed-notification").hide();
      $("#full-time-ed-yes").hide();
      $("#no-dob").hide();
      $("#gov-payments").hide(); //if yes show E
      $("#gross-fortnightly").hide(); //if yes show E
    }

    function resetDates() {
      $("#dd-date").val("");
      $("#mm-date").val("");
      $("#yyyy-date").val("");
    }

    function partnerLanguage() {
      if (sessionStorage.getItem("partnerStatus") == "partnered") {
        $(".if-partnered").show();
      }
    }
    partnerLanguage();
  });
</script>

</html>