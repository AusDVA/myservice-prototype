<!DOCTYPE html>
<html class="js" lang="en">

<head>
  <title>Subsidy authoriation request | MyService</title>
  <%- include(partials+"components/layout/head") %>
</head>

<body class="uikit-body uikit-grid uikit-refactor">
  <noscript>
    <p role="alert">This website needs JavaScript to work properly.</p>
  </noscript>
  <nav class="uikit-skip-link">
    <a class="uikit-skip-link__link" href="#main-content">Skip to main content</a>
  </nav>
  <%- include(partials+"components/layout/header-topbar") %>
  <%- include(partials+"components/layout/header-nom-rep") %>

  <main id="main-content">

    <div id="main-content" class="section-feature border-bottom--mild margin-above--none margin-below--none padding-below">
      <div class="container margin-above--none">
        <h1 class="margin-above--none ss-align--center">
          <span class="heading">Relationship status</span>
        </h1>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-md-offset-1 col-md-10 col-lg-offset-2 col-lg-8">
          <div class="margin-above--extra margin-below--extra">

            <%- include(partials+"components/form-partials/radio", {
              label: "What is your relationship status?",
              boxes: [
                "Single",
                "Married and currently living together",
                "Living in a marriage-like relationship"
              ],
              id: "relationship-status"
            }); %>

            <div id="partner-details" hidden>

              <h3>Partner details</h3>

              <%- include(partials+"components/form-partials/text", {
              label: "Given name",
              hint: "(first name)"
            }); %>

              <%- include(partials+"components/form-partials/text", {
              label: "Surname",
              hint: "(last name)"
            }); %>

              <%- include(partials+"components/form-partials/prepop/gender"); %>

              <BR />
              <%- include(partials+"components/form-partials/date", {
                label: "Date of birth"
              }); %>

              <%- include(partials+"components/form-partials/yes_no", {
                label: "Does your partner wish to receive payment?",
                yes_toggle: "#partner-payment-questions"
              }); %>

              <div id="partner-payment-questions" hidden>

                <%- include(partials+"components/form-partials/yes_no", {
                  label: "Is your partner an Australian citizen?",
                  no_toggle: ["#partner-visa-container","#visa-doc-container"]
                }); %>

                <%- include(partials+"components/form-partials/radio", {
                  label: "Is your partner?",
                  boxes: [
                    "The holder of a permanent visa",
                    "The holder of a special purpose visa",
                    "The holder of a special category visa"
                  ],
                  id: "partner-visa",
                  modifiers: ["hidden"]
                }); %>

                <%- include(partials+"components/form-partials/notice", {
                  message: "You will need to provide a copy of your current visa or special category visa.</p><p>You can attach this document at the end of your claim.</p>",
                  id: "visa-doc",
                  modifiers: ["hidden"]
                }); %>

                <%- include(partials+"components/form-partials/yes_no", {
                    label: "Does your partner currently receive payments from Centrelink?",
                    id: "partner-centrelink",
                    yes_toggle: "#partner-crn-container",
                    no_toggle: "#save-next"
                  }); %>

                <%- include(partials+"components/form-partials/text", {
                    label: "What is your partner's Customer Reference Number (CRN)?",
                    id: "partner-crn",
                    modifiers: ["hidden"]
                  }); %>

              </div>

            </div>

          </div>

          <div id="save-next" hidden>
            <p>Choose <b>save and next</b> to continue</p>
          </div>

          <div class="pagination margin-above--extra">
            <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '/auth/claim/veteran-payment/veteran-payment-01'">Previous</button>
            <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '#open-modal'">Cancel</button>
            <div class="floated">
              <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = '/auth/claim'">Save and exit</button>
              <button class="uikit-btn btnNext" id="btnNext" onclick="window.location.href = '/auth/claim/veteran-payment/veteran-payment-03'">Save and next</button>
            </div>
          </div>

          <%- include(partials+"content/modals/claims-cancel-modal") %>
        </div>

  </main>

  <%- include(partials+"components/layout/footer") %>

  <script>
    $(document).ready(function () {

      $("input:radio").prop("checked", false);
      $('#relationship-status').prop('selectedIndex', 0);

      $('#relationship-status-container').change(function () {
        var mySelection = $('input[name=relationship-status]:checked').parent().find("span").text().trim();
        switch (mySelection) {
          case "-- Select an option --":
            $("#partner-details").hide();
            $("#save-next").hide();
            break;
          case "Single":
            $("#partner-details").hide();
            $("#save-next").show();
            break;
          default:
            $("#partner-details").show();
            $("#save-next").hide();
            break;
        }
      });

    });
  </script>

</body>

</html>
