<%- include(templates+"header", {
  claim: "Request a replacement card", 
  heading: "Request a replacement card"
}) %>
    <%- include("card-replacement--max-exceeded") %>
    <%- include("card-replacement--address-provisional") %>
    <%- include("card-replacement--card-on-way") %>
    <div id="default" class="container container--8-column">
          <h2>Requesting your new card:</h2>
          <ul>
            <li>You may request a replacement card if your card has been lost, stolen or damaged.</li>
            <li>Your new card will be sent to the postal address we have on file.</li>
            <li>The new card may take up to four weeks to be delivered.</li>
          </ul>
          <div class="margin-above--extra margin-below--extra">
            <div id="address" class="form-group">
              <legend class="legend-label">Is this your current postal address?</legend>
              <div class="table">
                <div class="tr">
                  <div class="td">Unit 3/41 Constitution Ave</div>
                </div>
                <div class="tr">
                  <div class="td">Jamison Appartments</div>
                </div>
                <div class="tr">
                  <div class="td">Canberra ACT 2612 </div>
                </div>
              </div>
              <div class="radio-toggle margin-above">
                <label class="on label-left" for="address-yes">
                  <input id="address-yes" type="radio" value="yes" name="address-question">
                  <span>Yes</span>
                </label>
                <label class="off label-right" for="address-no">
                  <input id="address-no" type="radio" value="no" name="address-question">
                  <span>No</span>
                </label>
              </div>
            </div>
          </div>
          <% 
          locals.el = {};
          locals.el.message = "<p>You will need to update your postal address in <a href='/auth/profile/contact'>your profile</a>. You will be unable to request a new card until the new address has been processed.</p>"
          locals.el.optionalID = 'notice-myaccount';
          locals.el.optionalHide = true;
          %>
          <%- include(partials+"components/form-elements/notice", locals) %>
          <% 
          locals.el = {};
          locals.el.question = 'Why do you need a replacement card?';
          locals.el.optionalID = 'reason';
          locals.el.optionalHide = true;
          locals.el.items = ["My card is damaged","My card was stolen","I lost my card"];
          %>
          <%- include(partials+"components/form-elements/radio", locals) %>
          <div id="submit-notice" class="margin-above" style="display: none">
            <p>Choose <b>submit request</b> to continue.</p>
          </div>
          <div class="pagination">
            <button class="uikit-btn uikit-btn--tertiary" onclick="window.location.href = 'cards-home'">Cancel request</button>
            <div class="floated">
              <button class="uikit-btn uikit-btn--inactive" id="submit" disabled onclick="window.location.href = 'cards-replacement-success'">Submit request</button>
            </div>
          </div>
    </div>
  </main>
  <%- include("card-replacement-state-switcher") %>
  <%- include(partials+"components/layout/footer") %>
  <script>
    $(Document).ready(function () {
      $('#reason').change(function () {
        $("#submit-notice").show("fast");
        $("#submit").prop('disabled', false);
      });

      $("#address-yes").click(function () {
        $("#notice-myaccount").hide();
        $("#submit-notice").hide();
        $("#reason").show("fast");
      });
      $("#address-no").click(function () {
        $("#notice-myaccount").show("fast");
        $("#submit-notice").hide();
        $("#reason").hide();
      });
    });
  </script>
</body>

</html>
