<!DOCTYPE html>
<html class="js" lang="en">

<head>
  <title>My profile | MyService</title>
<% include ../../../partials/head.ejs %>
</head>

<body class="uikit-body uikit-grid uikit-refactor">
  <noscript>
    <p role="alert">This website needs JavaScript to work properly.</p>
  </noscript>
  <nav class="uikit-skip-link">
    <a class="uikit-skip-link__link" href="#main-content">Skip to main content</a>
  </nav>
  <% include ../../../partials/header-topbar.ejs %>
  <% include ../../../partials/header-authenticated.ejs %>
  <% include ../../../partials/header-nom-rep.ejs %>
  <main>
    <section>
      <div class="container" id="main-content">

        <div class="row">
          <div class="col-sm-3">
            <% include ../../../partials/profile-side-nav.ejs %>
          </div>
          <div class="col-sm-9">
            <h1 class="margin-above--none">Contact details</h1>
            <div class="profile-table margin-below--extra">
              <div class="row profile-row">
                <div class="col-sm-9 col-xs-7 description-fields">
                  <div class="row">
                    <div class="col-sm-4 title-field">Email address</div>
                    <div class="col-sm-8 uneditable email-uneditable-div">
                      <span id="email-span">robjohnson@email.com</span>
                    </div>
                    <div class="col-sm-8 editable email-editable-div" style="display:none;">

                      <button class="uikit-btn uikit-btn--tertiary small cancel-email-button">Cancel</button>
                      <button class="uikit-btn small save-email-button">Save</button>
                      <div class="waiting-animation ico-waiting-inline" style="display:none;"></div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-3 col-xs-5 change-button">
                  <button class="uikit-btn uikit-btn--block uikit-btn--tertiary small edit-email-button">Change</button>
                </div>
              </div>
              <div class="row profile-row">
                <div class="col-sm-9 col-xs-7 description-fields">
                  <div id="error-example" class="row">
                    <div class="col-sm-4 title-field">Home phone number</div>
                    <div class="col-sm-8 uneditable home-uneditable-div">
                      <span id="home-span" class="no-value">Not provided</span>
                    </div>
                    <div class="col-sm-6 editable home-editable-div" style="display:none;">
                      <span class="hint display-block">Please include your area code (for example, "03" for Victoria)</span>
                      <span id="phone-error" class="input-error-profile" aria-live="polite">Enter a valid home phone number</span>
                      <input class="uikit-text-input" name="home-phone" id="home-phone" type="text" value="">

                      <button class="uikit-btn uikit-btn--tertiary small cancel-home-button">Cancel</button>
                      <button class="uikit-btn small save-home-button">Save</button>
                      <div class="waiting-animation ico-waiting-inline" style="display:none;"></div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-3 col-xs-5 change-button">
                  <button class="uikit-btn uikit-btn--block uikit-btn--tertiary small edit-home-button">Change</button>
                </div>
              </div>
              <div class="row profile-row">
                <div class="col-sm-9 col-xs-7 description-fields">
                  <div class="row">
                    <div class="col-sm-4 title-field">Mobile phone number</div>
                    <div class="col-sm-8 uneditable mobile-uneditable-div">
                      <span id="mobile-span">0402111222</span>
                    </div>
                    <div class="col-sm-8 editable mobile-editable-div" style="display:none;">
                      <input class="uikit-text-input phone-input" name="mobile-phone" id="mobile-phone" value="0402111222" type="text">
                      <button class="uikit-btn uikit-btn--tertiary small cancel-mobile-button">Cancel</button>
                      <button class="uikit-btn small save-mobile-button">Save</button>
                      <div class="waiting-animation ico-waiting-inline" style="display:none;"></div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-3 col-xs-5 change-button">
                  <button class="uikit-btn uikit-btn--block uikit-btn--tertiary small edit-mobile-button">Change</button>
                </div>
              </div>
              <div class="row profile-row">
                <div class="col-sm-9 col-xs-7 description-fields">
                  <div class="row">
                    <div class="col-sm-4 title-field">Postal address</div>
                    <div class="col-sm-8 uneditable postal-uneditable-div">
                      <span id="address0-span" style="display:none;"></span>
                      <span id="address1-span">86 High Street</span>
                      <span id="address2-span" style="display:none;"></span>
                      <br />
                      <span id="town-span">Warooka</span>
                      <span id="town-span">SA</span>
                      <span id="postcode-span">5577</span>
                      <br />
                      <span id="country-span">Australia</span>
                    </div>
                    <div class="col-sm-8 editable postal-editable-div" style="display:none;">
                      <% include ../../../partials/address-postal.ejs %>
                      <button class="uikit-btn uikit-btn--tertiary small cancel-postal-button">Cancel</button>
                      <button class="uikit-btn small save-postal-button">Save</button>
                      <div class="waiting-animation ico-waiting-inline" style="display:none;"></div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-3 col-xs-5 change-button">
                  <button class="uikit-btn uikit-btn--block uikit-btn--tertiary small" disabled>Locked</button>
                </div>
              </div>
              <div class="row profile-row">
                <div class="col-sm-9 col-xs-7 description-fields">
                  <div class="row">
                    <div class="col-sm-4 title-field">Residential address</div>
                    <div class="col-sm-8 uneditable residential-uneditable-div">
                      <span id="residential-span">Same as postal address</span>
                    </div>
                    <div class="col-sm-8 editable residential-editable-div" style="display:none;">
                      <div class="form-group">
                        <label class="uikit-control-input">
                          <input class="uikit-control-input__input sameAsPostal" type="checkbox" name="sameAsPostal" value="" checked>
                          <span class="uikit-control-input__text">Same as postal address</span>
                        </label>
                      </div>
                      <div class="pt-showIfAdditionalAddress">
                        <% include ../../../partials/address-residential.ejs %>
                      </div>
                      <button class="uikit-btn uikit-btn--tertiary small cancel-residential-button">Cancel</button>
                      <button class="uikit-btn small save-residential-button">Save</button>
                      <div class="waiting-animation ico-waiting-inline" style="display:none;"></div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-3 col-xs-5 change-button">
                  <button class="uikit-btn uikit-btn--block uikit-btn--tertiary small" disabled>Locked</button>
                </div>
              </div>

              <div class="margin-above--extra margin-below--extra">
                <i>To change locked information, call
                  <a href="tel:1800555254">1800 555 254</a> or email
                  <a href="mailto:generalenquiries@dva.gov.au">generalenquiries@dva.gov.au</a>
                </i>
              </div>

              <!-- <div class="row profile-row-address">
                    <div class="col-sm-10 col-xs-8 description-fields">
                      <div class="row">
                        <div class="col-sm-6 address-line">
                          <span class="title-field">Postal Address</span>
                          <div class="uneditable address-uneditable-div">
                            <span id="address1-span">86 High Street</span>
                            <br/>
                            <span id="town-span">Warooka</span>
                            <span id="town-span">SA</span>
                            <span id="postcode-span">5577</span>
                            <br/>
                            <span id="country-span">Australia</span>
                          </div>
                          <div class="editable address-editable-div" style="display:none;">
                            <div class="form-group">
                              <label class="uikit-text-input__label" for="postalAddr.country">Country</label>
                              <select id="postalAddr.country" name="postalAddr.country">
                                <option value="Australia" selected>Australia</option>
                              </select>
                            </div>
                            <div class="form-group">
                              <div class="field">
                                <label class="uikit-text-input__label" for="residentialAddr.addressPrefix">
                                  Building name or address prefix
                                  <span class="hint">(optional)</span>
                                </label>
                                <input type="text" id="residentialAddr.addressPrefix" name="residentialAddr.addressPrefix" class="uikit-text-input" aria-required="false"
                                  maxlength="38" value="">
                              </div>
                            </div>
                            <div class="form-group">
                              <div class="field">
                                <label class="uikit-text-input__label" for="residentialAddr.addressLine1">
                                  Address line 1
                                </label>
                                <input type="text" id="residentialAddr.addressLine1" name="residentialAddr.addressLine1" class="uikit-text-input" aria-required="true"
                                  maxlength="38" value="86 High Street">
                              </div>
                            </div>
                            <div class="form-group">
                              <div class="field">
                                <label class="uikit-text-input__label" for="residentialAddr.addressLine2">
                                  Address line 2
                                  <span class="hint">(optional)</span>
                                </label>
                                <input type="text" id="residentialAddr.addressLine2" name="residentialAddr.addressLine2" class="uikit-text-input" aria-required="false"
                                  maxlength="38" value="">
                              </div>
                            </div>
                            <div class="form-group">
                              <div class="field">
                                <label class="uikit-text-input__label" for="residentialAddr.town">
                                  Town
                                </label>
                                <input type="text" id="residentialAddr.town" name="residentialAddr.town" class="uikit-text-input" aria-required="true" maxlength="17"
                                  value="WAROOKA">
                              </div>
                            </div>
                            <div class="form-group">
                              <label class="uikit-text-input__label" for="residentialAddr.postcode">
                                Postcode
                              </label>
                              <input type="text" id="residentialAddr.postcode" name="residentialAddr.postcode" class="uikit-text-input input-small yyyy"
                                aria-required="true" maxlength="4" value="5577">
                            </div>
                            <div class="form-group">
                              <label class="uikit-text-input__label" for="residentialAddr.state">
                                State or territory
                              </label>
                              <select id="residentialAddr.state" name="residentialAddr.state">
                                <option value="">-- Select state or territory --</option>
                                <option value="ACT">Australian Capital Territory</option>
                                <option value="NSW">New South Wales</option>
                                <option value="NT">Northern Territory</option>
                                <option value="QLD">Queensland</option>
                                <option value="SA">South Australia</option>
                                <option value="TAS">Tasmania</option>
                                <option value="VIC">Victoria</option>
                                <option value="WA">Western Australia</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6 address-line">
                          <span class="title-field">Residential Address</span>
                          <div class="uneditable address-uneditable-div">
                            <span id="address-span">Same as postal address</span>
                          </div>
                          <div class="editable address-editable-div" style="display:none;">
                            <label class="uikit-control-input">
                              <input type="checkbox" class="uikit-control-input__input" name="sameAsPostal" value="on" checked="">
                              <span class="uikit-control-input__text">Same as postal address</span>
                            </label>
                          </div>
                        </div>
                      </div>
                      <div class="row editable address-editable-div" style="display:none;">
                        <button class="uikit-btn uikit-btn--tertiary small cancel-address-button">Cancel</button>
                        <button class="uikit-btn small save-address-button">Save</button>
                        <div class="waiting-animation ico-waiting-inline" style="display:none;"></div>
                      </div>
                    </div>
                    <div class="col-sm-2 col-xs-4 change-button">
                      <button class="uikit-btn uikit-btn--tertiary small edit-address-button">Change</button>
                    </div>
                  </div> -->


            </div>
          </div>
    </section>
  </main>



  <% include ../../../partials/footer.ejs %>
  <script>
    $('.call-toast').click(function () {
      $('body,html').animate({
        scrollTop: 0
      }, 100);
      // hack to reset focus to top of page
      document.body.setAttribute('tabindex', '0');
      document.body.focus();
      document.body.removeAttribute('tabindex');
      $("#toast__message").show("slow");
    });

    $("#toast__message").click(function () {
      $("#toast__message").hide("slow");
    });
  </script>


  <script>
    $(".countryPostal").change(function () {
      if ($('.countryPostal :selected').val() == "Australia") {
        $(".addressInAusPostal").show();
      } else {
        $(".addressInAusPostal").hide();

      }
    });

    $(".countryResidential").change(function () {
      if ($('.countryResidential :selected').val() == "Australia") {
        $(".addressInAusRes").show();
      } else {
        $(".addressInAusRes").hide();

      }
    });

    $(".pt-showIfAdditionalAddress").hide();

    $('input[name=sameAsPostal]').change(function () {
      if ($(this).is(':checked')) {
        $(".pt-showIfAdditionalAddress").hide();
      } else {
        $(".pt-showIfAdditionalAddress").show();
      }
    });

    // mimic functionality need after a save button is pressed
    // to disable all edit buttons to allow for saving time
    var fewSeconds = 2;

    // When the edit field is clicked for home phone number
    $(".edit-home-button").click(function () {
      $(".home-editable-div").show();
      $(".save-home-button").show();
      $(".edit-home-button").hide();
      $(".home-uneditable-div").hide();
      $("#error-example").addClass('has-error');
      // disable other edit fields
      $('.edit-email-button, .edit-mobile-button, .edit-postal-button, .edit-residential-button, .edit-address-button').prop('disabled', true);
    });

    // When the save field is clicked for home phone number
    $(".save-home-button").click(function () {
      $("#error-example").removeClass('has-error');

      var btn = $(".save-home-button, .cancel-home-button");
      btn.prop('disabled', true);
      $('.waiting-animation').show();
      setTimeout(function () {
        btn.prop('disabled', false);

        $(".home-editable-div").hide();
        $(".save-home-button").hide();
        $(".edit-home-button").show();
        $(".home-uneditable-div").show();
        var home_new = $("#home-phone").val();
        $("#home-span").html(home_new)
        // re-enable other edit fields
        $('.edit-email-button, .edit-mobile-button, .edit-postal-button, .edit-residential-button, .edit-address-button').prop('disabled', false);
        $('.waiting-animation').hide();
      }, fewSeconds * 1000);
    });

    // When the cancel field is clicked for home phone number
    $(".cancel-home-button").click(function () {
      $("#error-example").removeClass('has-error');
      $(".home-editable-div").hide();
      $(".save-home-button").hide();
      $(".edit-home-button").show();
      $(".home-uneditable-div").show();
      // re-enable other edit fields
      $('.edit-email-button, .edit-mobile-button, .edit-postal-button, .edit-residential-button, .edit-address-button').prop('disabled', false);
    });

    // When the edit field is clicked for mobile phone number
    $(".edit-mobile-button").click(function () {
      $(".mobile-editable-div").show();
      $(".save-mobile-button").show();
      $(".edit-mobile-button").hide();
      $(".mobile-uneditable-div").hide();
      // disable other edit fields
      $('.edit-home-button, .edit-email-button, .edit-postal-button, .edit-residential-button, .edit-address-button').prop('disabled', true);
    });

    // When the save field is clicked for mobile phone number
    $(".save-mobile-button").click(function () {

      var btn = $(".save-mobile-button, .cancel-mobile-button");
      btn.prop('disabled', true);
      $('.waiting-animation').show();
      setTimeout(function () {
        btn.prop('disabled', false);
        $(".mobile-editable-div").hide();
        $(".save-mobile-button").hide();
        $(".edit-mobile-button").show();
        $(".mobile-uneditable-div").show();
        var mobile_new = $("#mobile-phone").val();
        $("#mobile-span").html(mobile_new)
        // re-enable other edit fields
        $('.edit-home-button, .edit-email-button, .edit-postal-button, .edit-residential-button, .edit-address-button').prop('disabled', false);
        $('.waiting-animation').hide();
      }, fewSeconds * 1000);
    });

    // When the cancel field is clicked for mobile phone number
    $(".cancel-mobile-button").click(function () {
      $(".mobile-editable-div").hide();
      $(".save-mobile-button").hide();
      $(".edit-mobile-button").show();
      $(".mobile-uneditable-div").show();
      // re-enable other edit fields
      $('.edit-home-button, .edit-email-button, .edit-postal-button, .edit-residential-button, .edit-address-button').prop('disabled', false);
    });


    // When the edit field is clicked for postal address
    $(".edit-postal-button").click(function () {
      $(".postal-editable-div").show();
      $(".save-postal-button").show();
      $(".edit-postal-button").hide();
      $(".postal-uneditable-div").hide();
      // disable other edit fields
      $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-residential-button, .edit-address-button').prop('disabled', true);
    });

    // When the save field is clicked for postal address
    $(".save-postal-button").click(function () {
      var btn = $(".save-postal-button, .cancel-postal-button");
      btn.prop('disabled', true);
      $('.waiting-animation').show();
      setTimeout(function () {
        btn.prop('disabled', false);
        $(".postal-editable-div").hide();
        $(".save-postal-button").hide();
        $(".edit-postal-button").show();
        $(".postal-uneditable-div").show();
        // re-enable other edit fields
        $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-residential-button, .edit-address-button').prop('disabled', false);
        $('.waiting-animation').hide();
      }, fewSeconds * 1000);
    });

    // When the cancel field is clicked for postal address
    $(".cancel-postal-button").click(function () {
      $(".postal-editable-div").hide();
      $(".save-postal-button").hide();
      $(".edit-postal-button").show();
      $(".postal-uneditable-div").show();
      // re-enable other edit fields
      $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-residential-button, .edit-address-button').prop('disabled', false);
    });


    // When the edit field is clicked for residential address
    $(".edit-residential-button").click(function () {
      $(".residential-editable-div").show();
      $(".save-residential-button").show();
      $(".edit-residential-button").hide();
      $(".residential-uneditable-div").hide();
      // disable other edit fields
      $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-postal-button, .edit-address-button').prop('disabled', true);
    });

    // When the save field is clicked for residential address
    $(".save-residential-button").click(function () {
      var btn = $(".save-residential-button, .cancel-residential-button");
      btn.prop('disabled', true);
      $('.waiting-animation').show();
      setTimeout(function () {
        btn.prop('disabled', false);
        $(".residential-editable-div").hide();
        $(".save-residential-button").hide();
        $(".edit-residential-button").show();
        $(".residential-uneditable-div").show();

        // re-enable other edit fields
        $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-postal-button, .edit-address-button').prop('disabled', false);
        $('.waiting-animation').hide();
      }, fewSeconds * 1000);
    });

    // When the cancel field is clicked for residential address
    $(".cancel-residential-button").click(function () {
      $(".residential-editable-div").hide();
      $(".save-residential-button").hide();
      $(".edit-residential-button").show();
      $(".residential-uneditable-div").show();
      // re-enable other edit fields
      $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-postal-button, .edit-address-button').prop('disabled', false);
    });


    // When the edit field is clicked for address
    $(".edit-address-button").click(function () {
      $(".address-editable-div").show();
      $(".save-address-button").show();
      $(".edit-address-button").hide();
      $(".address-uneditable-div").hide();
      // disable other edit fields
      $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-postal-button').prop('disabled', true);
    });

    // When the save field is clicked for address
    $(".save-address-button").click(function () {
      var btn = $(".save-address-button, .cancel-address-button");
      btn.prop('disabled', true);
      $('.waiting-animation').show();
      setTimeout(function () {
        btn.prop('disabled', false);
        $(".address-editable-div").hide();
        $(".save-address-button").hide();
        $(".edit-address-button").show();
        $(".address-uneditable-div").show();
        // re-enable other edit fields
        $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-postal-button').prop('disabled', false);
        $('.waiting-animation').hide();
      }, fewSeconds * 1000);
    });

    // When the cancel field is clicked for address
    $(".cancel-address-button").click(function () {
      $(".address-editable-div").hide();
      $(".save-address-button").hide();
      $(".edit-address-button").show();
      $(".address-uneditable-div").show();
      // re-enable other edit fields
      $('.edit-email-button, .edit-home-button, .edit-mobile-button, .edit-postal-button').prop('disabled', false);
    });
  </script>
</body>

</html>