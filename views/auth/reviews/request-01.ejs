<%- include(templates+"header", { claim: "MyService - Request review" , heading: "Decision information" }) %>

  <%- include(partials+"components/form-partials/notice", {
    message: "<p>You are only eligible for travel to some types of medical practitioner. You may not, for example, be eligible for transport to a general practitioner, dentist or optometrist.</p>      <p>For further information see <a href='https://www.dva.gov.au/health-and-treatment/local-or-overseas-medical-care/arrange-taxi-or-hire-car' rel='external'>arrange for a taxi or hire car</a> or call 1800 VETERAN (<a href='1800 838 372'>1800 838 372</a>)</p>"
    , type: "warning" , id: "under-80-notice" , modifiers: ["hidden"] }); %>

    <div class="form-group formPartials_date " id="date492-container">
      <fieldset>
        <legend class="uikit-text-input__label  legend-override ">
          Enter the date of the letter advising the decision<span class="hint "> (dd / mm / yyyy)</span></legend>
        <input type="number" class="uikit-text-input dd" name="date492-dd" id="date492-dd" maxlength="2"
          aria-label="2 digit day">
        <span aria-hidden="true">/</span>
        <input type="number" class="uikit-text-input mm" name="date492-mm" id="date492-mm" maxlength="2"
          aria-label="2 digit month">
        <span aria-hidden="true">/</span>
        <input type="number" class="uikit-text-input yyyy" name="date492-yyyy" id="date492-yyyy" maxlength="4"
          aria-label="4 digit year">
        &nbsp; <button class="enter-date uikit-btn uikit-btn--primary">Submit</button>
      </fieldset>
    </div>

    <h2 class="mys h2 margin-below--small margin-above--none">Decisions found</h2>

    <p>The following decisions match the date you have entered. Select a decision to continue. If the decision you wish
      to have reviewed is not shown, select “Other decision”.</p>

    <table class="mys-table1 reviews--decisions">
      <thead>
        <tr>
          <th colspan="2">Claim number</th>
          <th>Type</th>
          <th>Description</th>
          <th>Decision date</th>
        </tr>
      </thead>
      <tbody>
        <tr id="blank" class="placeholder" hidden>
          <td colspan="5">No decisions found for the date entered. Check your dates and try again.</td>
        </tr>
        <tr id="item-1">
          <td>
            <span class="mys">
              <input type="radio" id="myRadio1" name="myRadio" value="">
              <label for="myRadio1"></label>
            </span>
          </td>
          <td data-title="Claim number">NSM123456/101</td>
          <td data-title="Type">Disability Pension (VEA)</td>
          <td data-title="Description">Lumbar Spondylosis<BR />Ischaemic Heart Disease</td>
          <td data-title="Decision date">1 Dec 2019</td>
        </tr>
        <tr id="item-2">
          <td>
            <span class="mys">
              <input type="radio" id="myRadio2" name="myRadio" value="">
              <label for="myRadio2"></label>
            </span>
          </td>
          <td data-title="Claim number">NSM123456</td>
          <td data-title="Type">Disability Pension (VEA)</td>
          <td data-title="Description">Application for increase</td>
          <td data-title="Decision date">1 Dec 2019</td>
        </tr>
        <tr id="none">
          <td>
            <span class="mys">
              <input type="radio" id="myRadio3" name="myRadio" value="">
              <label for="myRadio3"></label>
            </span>
          </td>
          <td colspan="4">
            <span style="display: inline-block;">None of the above</span>
          </td>
        </tr>
      </tbody>
    </table>

    <%- include(partials+"components/form-partials/dropdown", {
      label: "Select matters relating to the decision you wish to have reviewed" , 
      options: [
       "-- Select an option --"
      , "Age pension" , "Aged / home care (income and assets)" , "Attendant allowance" , "Clothing allowance"
      , "Commonwealth Senior’s Health Card" , "Decoration allowance or Victoria Cross allowance " , "Funeral benefits"
      , "Gold Card" , "Loss of earnings allowance" , "Lump sum advance of pension" , "Pension bonus scheme"
      , "Recreational transport allowance" , "Repatriation Pharmaceutical Benefits Card (Orange Card)"
      , "Qualifying service" , "Assessment of income" , "Assessment of assets"
      , "Rejection of injury or disease as service related" , "Permanent Impairment" , "Incapacity payments"
      , "Claim for compensation to a dependant following the death of a member"
      , "Rejection of veteran’s death as service related" , "Rejection of injury or disease as service related"
      , "Other (e.g.: Treatment, Attendant Care, Household Services, Rehabilitation)" , "None of the above" ],
      modifiers: ["hidden"],
      id: "other-decision"
    }); %>

      <p id="click-submit" hidden class="margin-above">Choose <b>submit</b> to continue</p>

      <%- include(forms+"pagination", { pagination: [ { text: "Previous" , link: "/auth/transport/" }, { text: "Submit"
        , link: "/auth/transport/index?state=one" , modifiers: ["floated", "primary" ] } ] }) %>

        <%- include(templates+"footer") %>
          <%#- include("book-ss") %>

<script>

  // var state;
  // $('input[name=trip-type]').change(function () {
  //   state = $(this).val();
  //   updateLayout();
  // });

  // function updateLayout() {
  // }

  // $.urlParam = function (name) {
  //   var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
  //   if (results == null) {
  //     return 0;
  //   }
  //   return results[1] || 0;
  // }

  $('#decisionForm > input').on('change', function () {
    console.log ($('input[name=myRadio]:checked', '#decisionForm').val());
  });

  $('.reviews--decisions tr').click(function() {
    $(this).find('td input:radio').prop('checked', true);
})

$('.reviews--decisions input[type="radio"]').click(function(){
      selectedRow = $(this).closest('tr').attr('id');
      updateForm( selectedRow )
    });

    $('.reviews--decisions tr').click(function(){
      selectedRow = $(this).attr('id'); 
      updateForm( selectedRow )
    });

    function updateForm( selectedRow ){
      $("#other-decision-container").hide();
      switch ( selectedRow ) {
        case "none":
          $("#other-decision-container").show();
          break;
        default:
          break;
      }
    }



</script>