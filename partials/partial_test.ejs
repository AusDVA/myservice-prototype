<%
var counters = {
                "selects": 0, 
                "texts": 0, 
                "dates": 0,
                "radios": 0,
                "checkboxes": 0,
                "toggle-buttons": 0,
                "y_n_toggles": 0,
                "text-boxes": 0,
               };

forms.forEach(function(elem, index) {
  if(elem.type == "select") { 
    counters.selects++; %>
    <div class="form-group">
      <label for="<%- elem.config && elem.config.id ? elem.config.id : "select"+counters.selects %>" class="uikit-text-input__label"><%- elem.config && elem.config.label ? elem.config.label : "Select"+counters.selects %> <%- elem.config && elem.config.hint != undefined && elem.config.hint != "" ? "<span class='hint'>"+elem.config.hint+"</span>" : "" %></label>
      <select <%- elem.config && elem.config.required ? "required " : "" %><%- elem.config && elem.config.disabled ? "disabled " : "" %><%- elem.config && elem.config.hidden ? "hidden " : "" %>name="<%- elem.config && elem.config.id ? elem.config.id : "select"+counters.selects %>" id="<%- elem.config && elem.config.id ? elem.config.id : "select"+counters.selects %>" class="uikit-text-input input-half">

      <% if(elem.config && elem.config.options && elem.config.options.length > 0 && typeof elem.config.options[0] == "string") { 
          elem.config.options.forEach(function(option, o_index) { %>
          <option <%- o_index == 0 ? " selected='' " : "" %>value="<%- (option.toLowerCase()).replace(/ /g, "_") %>"><%- option %></option>
        <% }); 

      } else if (elem.config && elem.config.options && elem.config.options.length > 0 && typeof elem.config.options[0] == "object") {
          var selected = 0;
          var toggle = []; 
          elem.config.options.forEach(function(option, o_index) {
            if(option.selected != undefined && option.selected == true) {
              selected++;
            }
            if (option.toggle != undefined && option.toggle != "") {
              toggle.push({"toggle-elem": option.toggle, "source-elem": option.value != undefined && option.value != "" ? option.value : (option.text.toLowerCase()).replace(/ /g, "_") });
            }
          });
          elem.config.options.forEach(function(option, o_index) { %>
            <option <%- option.hidden != undefined && option.hidden ? "hidden " : "" %><%- option.disabled != undefined && option.disabled ? "disabled " : "" %><%- option.selected != undefined && option.selected ? "selected " : "" %><%- option.id != undefined && option.id != "" ? "id='"+option.id+"' " : "" %><%- option.toggle != undefined && option.toggle != "" ? "data-toggle='"+option.toggle+"' " : ""  %><%- option.value != undefined && option.value != "" ? "value='"+option.value+"'" : "value='"+(option.text.toLowerCase()).replace(/ /g, "_")+"'" %>><%- option.text %></option>
          <% }); console.log(toggle);

     } %>
        </select>
    </div>
          <% if(toggle.length > 0) { %>
            <script>
              $("#<%- elem.config && elem.config.id ? elem.config.id : "select"+counters.selects %>").on("change", function() {  
                $($("#<%- elem.config && elem.config.id ? elem.config.id : "select"+counters.selects %> :selected").data("toggle")).show();
                $("#<%- elem.config && elem.config.id ? elem.config.id : "select"+counters.selects %> :not(:selected)").each(function(index, elem) {
                  $($(elem).data("toggle")).hide();
                });
              });
            </script>
        <% } %>
  <% } else if (elem.type == "text") { 
    counters.texts++ %>
    <div class="form-group">
      <label for="<%- elem.config && elem.config.id ? elem.config.id : "text"+counters.texts %>" class="uikit-text-input__label"><%- elem.config && elem.config.label ? elem.config.label : "Input" %> <%- elem.config && elem.config.hint != undefined && elem.config.hint != "" ? "<span class='hint'>"+elem.config.hint+"</span>" : "" %></label>

      <input <%- elem.config && elem.config.required ? "required " : "" %><%- elem.config && elem.config.disabled ? "disabled " : "" %><%- elem.config && elem.config.hidden ? "hidden " : "" %>class="uikit-text-input input-half" name="<%- elem.config && elem.config.id ? elem.config.id : "text"+counters.texts %>" id="<%- elem.config && elem.config.id ? elem.config.id : "text"+counters.texts %>" type="text">
    </div>
  <% } else if (elem.type == "date") { 
    counters.dates++; %>
    <div class="form-group">
      <label for="<%- elem.config && elem.config.id ? elem.config.id : "date"+counters.dates %>" class="uikit-text-input__label"><%- elem.config && elem.config.label ? elem.config.label : "Date" %> <%- elem.config && elem.config.hint != undefined && elem.config.hint != "" ? "<span class='hint'>"+elem.config.hint+"</span>" : "<span class='hint'>(DD / MM / YYYY)</span>" %></label>
             <input <%- elem.config && elem.config.required ? "required " : "" %><%- elem.config && elem.config.disabled ? "disabled " : "" %><%- elem.config && elem.config.hidden ? "hidden " : "" %>class="uikit-text-input dd" type="text" name="<%- elem.config && elem.config.id ? elem.config.id+"-dd" : "date"+counters.dates+"-dd" %>" id="<%- elem.config && elem.config.id ? elem.config.id+"-dd" : "date"+counters.dates+"-dd" %>" maxlength="2" aria-label="2 digit day"> /
             <input <%- elem.config && elem.config.required ? "required " : "" %><%- elem.config && elem.config.disabled ? "disabled " : "" %><%- elem.config && elem.config.hidden ? "hidden " : "" %>class="uikit-text-input mm" type="text" name="<%- elem.config && elem.config.id ? elem.config.id+"-mm" : "date"+counters.dates+"-mm" %>" id="<%- elem.config && elem.config.id ? elem.config.id+"-mm" : "date"+counters.dates+"-mm" %>" maxlength="2" aria-label="2 digit month"> /
             <input <%- elem.config && elem.config.required ? "required " : "" %><%- elem.config && elem.config.disabled ? "disabled " : "" %><%- elem.config && elem.config.hidden ? "hidden " : "" %>class="uikit-text-input yyyy" type="text" name="<%- elem.config && elem.config.id ? elem.config.id+"-yyyy" : "date"+counters.dates+"-yyyy" %>" id="<%- elem.config && elem.config.id ? elem.config.id+"-yyyy" : "date"+counters.dates+"-yyyy" %>" maxlength="4" aria-label="4 digit year">
    </div>
  <% } else if (elem.type == "y_n_toggle") {
    counters["y_n_toggles"]++ %>
      <div class="form-group">
        <label class="uikit-text-input__label" for="<%- elem.config && elem.config.id ? elem.config.id : "y_n_toggle"+counters.y_n_toggles %>"><%- elem.config && elem.config.label ? elem.config.label : "Yes or No Toggle Buttons" %> <%- elem.config && elem.config.hint != undefined && elem.config.hint != "" ? "<span class='hint'>"+elem.config.hint+"</span>" : "" %></label>
        <div class="radio-toggle">
          <label class="label-left" for="<%- elem.config && elem.config.id ? elem.config.id+"-yes" : "y_n_toggle"+counters.y_n_toggles+"-yes" %>">
            <input <%- elem.config && elem.config.yes_toggle != undefined && elem.config.yes_toggle != "" ? "data-toggle='"+elem.config.yes_toggle+"' " : "" %>id="<%- elem.config && elem.config.id ? elem.config.id+"-yes" : "y_n_toggle"+counters.y_n_toggles+"-yes" %>" type="radio" name="<%- elem.config && elem.config.id ? elem.config.id+"-yes" : "y_n_toggle"+counters.y_n_toggles %>">
            <span>Yes</span>
          </label>
          <label class="label-right" for="<%- elem.config && elem.config.id ? elem.config.id+"-no" : "y_n_toggle"+counters.y_n_toggles+"-no" %>">
            <input <%- elem.config && elem.config.no_toggle != undefined && elem.config.no_toggle != "" ? "data-toggle='"+elem.config.no_toggle+"' " : "" %>id="<%- elem.config && elem.config.id ? elem.config.id+"-no" : "y_n_toggle"+counters.y_n_toggles+"-no" %>" type="radio" name="<%- elem.config && elem.config.id ? elem.config.id+"-no" : "y_n_toggle"+counters.y_n_toggles %>">
            <span>No</span>
          </label>
        </div>
      </div>

      <% if(elem.config && ((elem.config.yes_toggle != undefined && elem.config.yes_toggle != "") || (elem.no_toggle != undefined && elem.no_toggle != ""))) { 
        var yes = false; 
        var no = false; 
        elem.config.yes_toggle != undefined && elem.config.yes_toggle != "" ? yes = true : yes = false;
        elem.config.no_toggle != undefined && elem.config.no_toggle != "" ? no = true : no = false;
        %>
        <script>
          <% if (yes) { %>
            $("#<%- elem.config.id ? elem.config.id+"-yes" : "y_n_toggle"+counters.y_n_toggles+"-yes" %>").on("click", function () {
              $("<%- elem.config.yes_toggle %>").show();
              <%- no ? "$('"+elem.config.no_toggle+"').hide();" : "" %>
            });
          
          <% } if (no) { %>
            $("#<%- elem.config.id ? elem.config.id+"-no" : "y_n_toggle"+counters.y_n_toggles+"-no" %>").on("click", function () {
              $("<%- elem.config.no_toggle %>").show();
              <%- yes ? "$('"+elem.config.yes_toggle+"').hide();" : "" %>
            });
          <% } %>
        </script>
        <% } %>
      <% } else if (elem.type == "checkbox") {
        counters["checkboxes"]++ %>

      <% } else if (elem.type == "radio") {
        counters["checkboxes"]++ %>

      <% }
});
%>


