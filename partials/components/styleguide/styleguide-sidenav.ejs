<% var links = 
[
{text: "Getting started", link: "getting-started"},
{text: "Typography", link: "typography"},
{text: "Colours", link: "colours"},
{text: "Layout", link: "layout"},
{text: "Buttons", link: "buttons"},
{text: "Animations", link: "animations"},
{text: "Uploads", link: "uploads"},
{text: "Icons", link: "icons"},
{text: "Toast messages", link: "toast"},
{text: "Tooltip", link: "tooltip"},
{text: "Modals", link: "modals"},
{text: "Pagination", link: "pagination"},
{text: "Currency", link: "currency"},
{text: "Notifications", link: "notifications"},
{text: "Forms", link: "forms"},
{text: "Loading", link: "loading"},
{text: "Progress Indicators", link: "progress"},
{text: "Accordions", link: "accordions"},
{text: "Widgets", link: "widgets"},
{text: "Cards", link: "cards"},
{text: "Tables", link: "tables"},
{text: "Deprecated", link: "deprecated"}
]; 
%>
<div class="col-sm-3">
  <nav id="nav" class="local-nav" aria-label="category navigation" aria-hidden="false">
    <h3>Components</h3>
    <ul id="sidenav">
      <%- links.map((link, i) => `<li><a href="${link.link}">${link.text}</a></li>`).join(''); %>
    </ul>

    <h3>Content</h3>
    <ul id="sidenav">
      <li>
        <a href="/styleguide/form_groups">Form groups</a>
      </li>
      <li>
        <a href="/styleguide/content_groups">Content groups</a>
      </li>
      <li>
        <a href="/styleguide/new_form_partials">New Form Partials</a>
      </li>
      <li>
        <a href="/styleguide/form_builder">Form Builder for New Partials</a>
      </li>
  </nav>

  <div class="sg-side-block">
    <h2>Lets talk on Slack.
      <img src="/docs/images/styleguide/sg-ico-slack.png" alt="Slack icon">
    </h2>
    <p>Do you have questions or would you like to provide some feedback? We'd love to hear from you!</p>
    <p>
      <a class="uikit-btn uikit-btn--tertiary small" href="https://dva-dev.slack.com/messages/ux" rel="external">Join our Slack channel</a>
      <br>
      <span class="small-text">(Only available to DVA employees)</span>
    </p>
  </div>

</div>


<script>
  $(document).ready(function () {
    var url = window.location;
    var element = $('ul#sidenav a').filter(function () {
      return this.href == url || url.href.indexOf(this.href) == 0;
    }).parent().addClass('is-active');
    if (element.is('li')) {
      element.addClass('is-active').parent().parent('li').addClass('is-active')
    }
  });
</script>
