<%

if (typeof id === "undefined") var id = formPartialsID("yes_no");
if (typeof modifiers === "undefined") var modifiers = []; 
if (typeof modifiers === "string") modifiers = [modifiers]; 

%>

<div class="form-group" <%- modifiers.includes("hidden") ? "hidden" : "" %> <%- typeof both_toggle !== "undefined" ? `data-both-toggle="${both_toggle}"` : "" %>
  id="<%- id %>-container">
  <fieldset <%- modifiers.includes("disabled") ? "disabled" : "" %>>

    <%- generateLabel({
        id,
        modifiers: modifiers.concat(["legendLabel"]),
        label: typeof label !== "undefined" ? label : null,
        hint: typeof hint !== "undefined" ? hint : null,
        tooltip: typeof tooltip !== "undefined" ? tooltip : null
      }) %>

    <div class="radio-toggle">
      <label class="label-left" for="<%- id %>-yes">
        <input <%- typeof yes_toggle !== "undefined" ? `data-toggle="${yes_toggle}"` : "" %> <%- typeof yes_rToggle !== "undefined" ? `data-r-toggle="${yes_rToggle}"` : "" %>
          type="radio" name="<%- id %>" id="<%- id %>-yes">
        <span>Yes</span>
      </label>
      <label class="label-right" for="<%- id %>-no">
        <input <%- typeof no_toggle !== "undefined" ? `data-toggle="${no_toggle}"` : "" %> <%- typeof no_rToggle !== "undefined" ? `data-r-toggle="${no_rToggle}"` : "" %>
          type="radio" name="<%- id %>" id="<%- id %>-no">
        <span>No</span>
      </label>
      <label class="label-right" for="<%- id %>-no">
        <input <%- typeof unsure_toggle !== "undefined" ? `data-toggle="${unsure_toggle}"` : "" %>
          <%- typeof unsure_toggle !== "undefined" ? `data-r-toggle="${unsure_rToggle}"` : "" %> type="radio" name="<%- id %>" id="<%- id %>-unsure">
        <span>Unsure</span>
      </label>
    </div>
  </fieldset>

  <% if (typeof no_toggle !== "undefined" || typeof no_rToggle !== "undefined" || typeof yes_toggle !== "undefined" || typeof yes_rToggle !== "undefined") { %>
  <script type="text/javascript">
    $("#<%- id %>-container").change("input[type=radio]", function () {
      $("input[type=radio]:checked", this).each(function () {
        $($(this).data("toggle")).show();
        $($(this).data("r-toggle")).hide();
      });

      $("input[type=radio]:not(:checked)", this).each(function () {
        $($(this).data("toggle")).hide();
        $($(this).data("r-toggle")).show();
      });

      $($(this).data("both-toggle")).show();
    })
  </script>
  <% } %>

</div>
