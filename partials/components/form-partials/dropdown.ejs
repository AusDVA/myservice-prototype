<%

id = formPartialsID(id, "dropdown");

%>

<select
  class="uikit-text-input <%- modifiers && modifier.includes("inputFullLength") ? "" : "input-half" %>input-half"
  id="<%- %>"
>
 

<% const options = form.options.map(opt => {
  if (typeof opt === "string") {
    opt = {
      text: opt
    }
  }
  %>
  <%- generateOption(opt).html; %>

  <% 

    let { toggle, rToggle } = generateOption(opt);
    return {
      toggle,
      rToggle
    }

  });
  %>

</select>

<%
  
  if (!options.includes(undefined)) { %>
    <script type="text/javascript">
        $("#<%- id %>").on("change", function() {
          $($("option:selected", this).data("toggle")).show();
          $($("option:selected", this).data("r-toggle")).hide();
          $($("option:not(:selected)", this).data("r-toggle")).show();
          $($("option:not(:selected)", this).data("toggle")).hide();
        })

    </script>
  <% }

%>
